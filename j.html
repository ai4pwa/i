<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dynamic File Loader</title>
</head>
<body>
    <div id="content">Loading...</div>

    <script>
        // Function to get query parameter from URL
        function getQueryParam(param) {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(param);
        }

        // Get the file name from the 'page' query parameter
        const fileName = getQueryParam('page');

        // If fileName exists, construct the new URL and update the content
        if (fileName) {
            const newUrl = `https://base44.app/api/apps/686424824d7b61721eac3e29/files/${fileName}`;
            const contentDiv = document.getElementById('content');

            // Check if the file is an image (based on extension)
            const extension = fileName.split('.').pop().toLowerCase();
            if (['jpg', 'jpeg', 'png', 'gif', 'webp'].includes(extension)) {
                // If it's an image, display it
                const img = document.createElement('img');
                img.src = newUrl;
                img.alt = 'Dynamic Image';
                img.style.maxWidth = '100%';
                contentDiv.innerHTML = '';
                contentDiv.appendChild(img);
            } else {
                // For non-image files, display a link
                contentDiv.innerHTML = `<a href="${newUrl}" target="_blank">View File: ${fileName}</a>`;
            }
        } else {
            // If no fileName is provided, show an error message
            document.getElementById('content').innerHTML = 'No file specified in the URL.';
        }
    </script>
</body>
</html>
