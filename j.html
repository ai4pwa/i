<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Redirect to Base44 File</title>
</head>
<body>
    <div id="content"><p>Loading...</p></div>
    <script>
        // Get query parameter
        const urlParams = new URLSearchParams(window.location.search);
        const itemId = urlParams.get('page');

        async function redirectToBase44() {
            const contentDiv = document.getElementById('content');
            if (!itemId) {
                contentDiv.innerHTML = '<p>No page specified in the URL.</p>';
                return;
            }

            const base44Url = `https://base44.app/api/apps/686424824d7b61721eac3e29/files/${itemId}`;
            try {
                // Verify the file exists
                const response = await fetch(base44Url, {
                    headers: {
                        'api_key': '4fd12874c15643f395960cfa2d24d1a2'
                    }
                });

                if (!response.ok) {
                    throw new Error(`HTTP error! Status: ${response.status}`);
                }

                // Redirect to the Base44 URL
                window.location.replace(base44Url);
            } catch (error) {
                contentDiv.innerHTML = `<p>Error loading from Base44: ${error.message}</p>`;
            }
        }

        redirectToBase44();
    </script>
</body>
</html>
