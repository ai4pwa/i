<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Dynamic Page Viewer</title>
</head>
<body>
  <script>
    // Step 1: Get `page` parameter from the URL
    const params = new URLSearchParams(window.location.search);
    const page = params.get('page');

    // Step 2: Build the Supabase URL (with `.html` suffix)
    if (page) {
      const baseURL = 'https://base44.app/api/apps/6863cdf437ac82672a3bff47/files/';
      const fullURL = `${baseURL}${page}.html`;

      // Step 3: Fetch and display full HTML content
      fetch(fullURL)
        .then(response => response.text())
        .then(html => {
          document.open();
          document.write(html);
          document.close();
        })
        .catch(error => {
          document.body.innerHTML = `<h2>Failed to load page: ${page}</h2><p>${error}</p>`;
        });
    } else {
      document.body.innerHTML = "<h2>Missing ?page= parameter in the URL</h2>";
    }
  </script>
</body>
</html>
